{% extends "admin_layout.html" %}

{% block content %}
<h2>Галерея</h2>

<div class="admin-form">
  <form action="{{ url_for('admin_gallery_add') }}" method="post" enctype="multipart/form-data">
    <h3>Добавить фото</h3>

    <input type="text" name="title" placeholder="Подпись (по желанию)">
    <textarea name="description" rows="2" placeholder="Короткое описание (по желанию)"></textarea>

    <label style="margin-top:10px;">Файл изображения</label>
    <input type="file" name="photo" accept="image/*" required>

    <button class="admin-btn" type="submit">Добавить</button>
  </form>
</div>

<table class="admin-table">
  <thead>
    <tr>
      <th>Превью</th>
      <th>Подпись</th>
      <th>Описание</th>
      <th>Создано</th>
      <th></th>
    </tr>
  </thead>
  <!--<tbody>
    {% for img in images %}
      <tr>
        <td>
          <img src="{{ url_for('static', filename='uploads/gallery/' ~ img['photo']) }}"
               style="width:120px;height:70px;object-fit:cover;border-radius:6px;">
        </td>
        <td>{{ img['title'] or '—' }}</td>
        <td>{{ img['description'] or '—' }}</td>
        <td>{{ img['created_at'] }}</td>
        <td>
          <form action="{{ url_for('admin_gallery_delete', gid=img['id']) }}"
                method="post"
                onsubmit="return confirm('Удалить это фото?');">
            <button class="admin-delete-btn">Удалить</button>
          </form>
        </td>
      </tr>
    {% else %}
      <tr><td colspan="5">Пока нет фотографий.</td></tr>
    {% endfor %}-->
  </tbody>
</table>
{% endblock %}
